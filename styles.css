/* ── DESIGN TOKENS ── */
:root {
  --bg:       #f4f5f9;
  --bg1:      #ffffff;
  --bg2:      #f0f1f6;
  --surface:  #ffffff;
  --surf2:    #f7f8fc;
  --surf3:    #eef0f7;
  --border:   #e4e6f0;
  --border2:  #d4d7e8;
  --border3:  #b8bdd6;
  --purple:     #7c5cfc;
  --purple2:    #9b7dfd;
  --purple3:    #6244e5;
  --purple-dim: rgba(124,92,252,0.08);
  --purple-mid: rgba(124,92,252,0.18);
  --green:    #12b76a;
  --green-d:  rgba(18,183,106,0.10);
  --green-b:  rgba(18,183,106,0.22);
  --red:      #f04438;
  --red-d:    rgba(240,68,56,0.10);
  --red-b:    rgba(240,68,56,0.22);
  --amber:    #f79009;
  --blue:     #2e90fa;
  --text:     #101828;
  --text2:    #475467;
  --text3:    #98a2b3;
  --text4:    #d0d5dd;
  --body:  'Plus Jakarta Sans', sans-serif;
  --mono:  'DM Mono', monospace;
}

@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=DM+Mono:wght@300;400;500&display=swap');

*,*::before,*::after{margin:0;padding:0;box-sizing:border-box;}
html{scroll-behavior:smooth;}
body{background:var(--bg);color:var(--text);font-family:var(--body);min-height:100vh;overflow-x:hidden;-webkit-font-smoothing:antialiased;}

/* LOCK */
#lock{position:fixed;inset:0;z-index:9999;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#f4f5f9 0%,#ede8ff 100%);}
.lock-bg-circles{position:absolute;inset:0;overflow:hidden;pointer-events:none;}
.lock-bg-circles span{position:absolute;border-radius:50%;background:radial-gradient(circle,rgba(124,92,252,0.12),transparent 70%);}
.lock-bg-circles span:nth-child(1){width:600px;height:600px;top:-200px;right:-150px;}
.lock-bg-circles span:nth-child(2){width:400px;height:400px;bottom:-100px;left:-100px;}
.lock-card{position:relative;z-index:1;background:white;border-radius:24px;padding:48px 44px;width:420px;box-shadow:0 20px 60px rgba(124,92,252,0.12),0 2px 8px rgba(0,0,0,0.06);animation:fadeUp .45s ease;}
@keyframes fadeUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.lock-brand{display:flex;align-items:center;gap:12px;margin-bottom:6px;}
.lock-brand-icon{width:44px;height:44px;border-radius:12px;background:linear-gradient(135deg,var(--purple),var(--purple2));display:flex;align-items:center;justify-content:center;font-size:20px;box-shadow:0 4px 12px rgba(124,92,252,0.3);}
.lock-brand-name{font-size:22px;font-weight:800;color:var(--text);letter-spacing:-0.5px;}
.lock-brand-name em{color:var(--purple);font-style:normal;}
.lock-tagline{font-size:12px;color:var(--text3);margin-bottom:32px;margin-top:3px;}
.lock-divider{height:1px;background:var(--border);margin-bottom:24px;}
.lock-lbl{display:block;font-size:12px;font-weight:600;color:var(--text2);margin-bottom:8px;}
.lock-inp{width:100%;background:var(--bg2);border:1.5px solid var(--border);border-radius:12px;padding:14px 18px;color:var(--text);font-family:var(--mono);font-size:20px;letter-spacing:6px;text-align:center;outline:none;transition:border-color .2s,box-shadow .2s;margin-bottom:14px;}
.lock-inp:focus{border-color:var(--purple);box-shadow:0 0 0 3px var(--purple-dim);background:white;}
.lock-inp.bad{animation:shake .35s;border-color:var(--red);}
@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-8px)}75%{transform:translateX(8px)}}
.lock-btn{width:100%;background:linear-gradient(135deg,var(--purple),var(--purple2));border:none;border-radius:12px;padding:14px;color:white;font-family:var(--body);font-size:15px;font-weight:700;cursor:pointer;transition:opacity .2s,transform .15s,box-shadow .2s;}
.lock-btn:hover{opacity:.92;transform:translateY(-1px);box-shadow:0 8px 24px rgba(124,92,252,0.35);}
.lock-err{color:var(--red);font-size:12px;text-align:center;margin-top:10px;display:none;font-weight:500;}
.lock-hint{font-size:12px;color:var(--text3);text-align:center;margin-top:14px;}
.lock-hint code{background:var(--purple-dim);color:var(--purple);padding:2px 7px;border-radius:5px;font-family:var(--mono);}

/* APP */
#app{display:none;}

/* SIDEBAR */
.sb{position:fixed;left:0;top:0;bottom:0;width:220px;background:white;border-right:1px solid var(--border);display:flex;flex-direction:column;z-index:100;}
.sb-logo{padding:22px 18px 18px;border-bottom:1px solid var(--border);}
.sb-brand{display:flex;align-items:center;gap:10px;margin-bottom:3px;}
.sb-brand-icon{width:34px;height:34px;border-radius:9px;background:linear-gradient(135deg,var(--purple),var(--purple2));display:flex;align-items:center;justify-content:center;font-size:15px;flex-shrink:0;box-shadow:0 3px 8px rgba(124,92,252,0.25);}
.sb-brand-name{font-size:17px;font-weight:800;color:var(--text);letter-spacing:-0.3px;}
.sb-brand-name em{color:var(--purple);font-style:normal;}
.sb-tagline{font-size:10px;color:var(--text3);margin-top:2px;padding-left:44px;}
.sb-nav{flex:1;padding:12px 10px;display:flex;flex-direction:column;gap:2px;}
.ni{display:flex;align-items:center;gap:10px;padding:9px 10px;border-radius:10px;cursor:pointer;border:none;background:none;color:var(--text2);font-family:var(--body);font-size:14px;font-weight:500;transition:all .15s;width:100%;text-align:left;}
.ni:hover{background:var(--bg2);color:var(--text);}
.ni.on{background:var(--purple-dim);color:var(--purple);font-weight:600;}
.ni-icon{width:30px;height:30px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:14px;background:var(--bg2);flex-shrink:0;transition:background .15s;}
.ni.on .ni-icon{background:var(--purple-mid);}
.sb-bot{padding:12px;border-top:1px solid var(--border);}
.add-btn{width:100%;background:linear-gradient(135deg,var(--purple),var(--purple2));border:none;border-radius:10px;padding:11px;color:white;font-family:var(--body);font-size:14px;font-weight:700;cursor:pointer;transition:opacity .2s,transform .15s,box-shadow .2s;display:flex;align-items:center;justify-content:center;gap:6px;}
.add-btn:hover{opacity:.9;transform:translateY(-1px);box-shadow:0 6px 20px rgba(124,92,252,0.3);}

/* MAIN */
.main{margin-left:220px;min-height:100vh;padding:0 0 60px;}
.topbar{background:white;border-bottom:1px solid var(--border);padding:16px 30px;display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;z-index:50;}
.topbar-left h1{font-size:20px;font-weight:800;color:var(--text);letter-spacing:-0.3px;}
.topbar-left .sub{font-size:12px;color:var(--text3);margin-top:2px;font-weight:500;}
.topbar-right{display:flex;align-items:center;gap:10px;}
.live-pill{display:flex;align-items:center;gap:7px;background:var(--green-d);border:1px solid var(--green-b);border-radius:20px;padding:6px 14px;font-size:12px;font-weight:600;color:var(--green);}
.dot-live{width:6px;height:6px;border-radius:50%;background:var(--green);animation:blink 2s infinite;}
@keyframes blink{0%,100%{opacity:1;box-shadow:0 0 0 0 rgba(18,183,106,.4)}50%{opacity:.7;box-shadow:0 0 0 5px rgba(18,183,106,0)}}

/* PAGES */
.page{display:none;animation:fadeUp .2s ease;padding:26px 30px;}
.page.on{display:block;}
@keyframes cardUp{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}

/* STAT CARDS */
.sg{display:grid;grid-template-columns:repeat(4,1fr);gap:14px;margin-bottom:18px;}
.sc{background:white;border:1px solid var(--border);border-radius:16px;padding:18px 20px;position:relative;overflow:hidden;transition:box-shadow .2s,transform .2s;animation:cardUp .35s ease both;}
.sc:nth-child(1){animation-delay:.04s}.sc:nth-child(2){animation-delay:.08s}.sc:nth-child(3){animation-delay:.12s}.sc:nth-child(4){animation-delay:.16s}
.sc:hover{box-shadow:0 6px 24px rgba(0,0,0,0.07);transform:translateY(-2px);}
.sc-accent{position:absolute;top:0;left:0;right:0;height:3px;border-radius:16px 16px 0 0;}
.sc-accent.purple{background:linear-gradient(90deg,var(--purple),var(--purple2));}
.sc-accent.green{background:linear-gradient(90deg,#12b76a,#32d583);}
.sc-accent.blue{background:linear-gradient(90deg,#2e90fa,#53b1fd);}
.sc-accent.amber{background:linear-gradient(90deg,#f79009,#fec84b);}
.sc-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;}
.sc-lbl{font-size:12px;font-weight:600;color:var(--text2);}
.sc-ico{width:32px;height:32px;border-radius:9px;display:flex;align-items:center;justify-content:center;font-size:15px;}
.ico-purple{background:var(--purple-dim)}.ico-green{background:var(--green-d)}.ico-blue{background:rgba(46,144,250,0.10)}.ico-amber{background:rgba(247,144,9,0.10)}
.sc-val{font-size:26px;font-weight:800;color:var(--text);letter-spacing:-0.5px;line-height:1;margin-bottom:5px;}
.sc-val.pos{color:var(--green)}.sc-val.neg{color:var(--red)}.sc-val.purple{color:var(--purple)}.sc-val.neu{color:var(--text)}
.sc-sub{font-size:11px;color:var(--text3);font-weight:500;}

/* CHART ROW */
.cr{display:grid;grid-template-columns:1.8fr 1fr;gap:14px;margin-bottom:18px;}
.cc{background:white;border:1px solid var(--border);border-radius:16px;padding:20px 22px;animation:cardUp .35s ease .18s both;}
.cc-head{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:14px;}
.cc-lbl{font-size:13px;font-weight:700;color:var(--text);}
.cc-sub{font-size:11px;color:var(--text3);margin-top:2px;}
.cc-big{font-size:20px;font-weight:800;letter-spacing:-0.5px;}

/* BOTTOM ROW */
.br{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-bottom:18px;}
.bp{background:white;border:1px solid var(--border);border-radius:16px;padding:20px 22px;animation:cardUp .35s ease .22s both;}
.bp-head{font-size:13px;font-weight:700;color:var(--text);margin-bottom:14px;}
.str-row{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;}
.str-box{background:var(--bg2);border:1px solid var(--border);border-radius:12px;padding:14px 10px;text-align:center;}
.str-n{font-size:28px;font-weight:800;line-height:1;letter-spacing:-1px;}
.str-n.g{color:var(--green)}.str-n.r{color:var(--red)}.str-n.n{color:var(--purple)}
.str-l{font-size:10px;font-weight:700;color:var(--text3);margin-top:5px;text-transform:uppercase;letter-spacing:0.5px;}
.bw{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid var(--border);}
.bw:last-child{border:none;}
.bw-sym{font-size:15px;font-weight:700;color:var(--text);}
.bw-meta{font-size:11px;color:var(--text3);margin-top:2px;}
.bw-pnl{font-size:14px;font-weight:700;font-family:var(--mono);}

/* INSIGHT PANELS */
.dash-insights{display:grid;grid-template-columns:1fr 1fr;gap:14px;}
.ins-panel{background:white;border:1px solid var(--border);border-radius:16px;padding:20px 22px;}
.ins-head{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px;}
.ins-label{font-size:13px;font-weight:700;color:var(--text);}
.ins-tag{font-size:11px;font-weight:600;padding:3px 10px;border-radius:20px;}
.ins-tag.ok{background:var(--green-d);color:var(--green);border:1px solid var(--green-b);}
.ins-tag.warn{background:var(--red-d);color:var(--red);border:1px solid var(--red-b);}
.ins-tag.neutral{background:var(--purple-dim);color:var(--purple);border:1px solid var(--purple-mid);}
.emo-row{display:flex;align-items:center;gap:10px;padding:8px 0;border-bottom:1px solid var(--border);}
.emo-row:last-child{border:none;}
.emo-icon{font-size:17px;width:24px;text-align:center;flex-shrink:0;}
.emo-name{font-size:13px;font-weight:600;color:var(--text);width:85px;flex-shrink:0;}
.emo-bar-wrap{flex:1;background:var(--bg2);border-radius:6px;height:22px;overflow:hidden;}
.emo-bar-fill{height:100%;border-radius:6px;display:flex;align-items:center;padding:0 10px;font-size:11px;font-weight:700;font-family:var(--mono);transition:width .5s ease;white-space:nowrap;}
.emo-bar-fill.pos{background:var(--green-d);color:var(--green);}
.emo-bar-fill.neg{background:var(--red-d);color:var(--red);}
.emo-trades{font-size:11px;color:var(--text3);font-weight:500;width:30px;text-align:right;}
.split-row{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:12px;}
.split-box{border-radius:12px;padding:14px 16px;}
.split-box.good-side{background:var(--green-d);border:1px solid var(--green-b);}
.split-box.bad-side{background:var(--red-d);border:1px solid var(--red-b);}
.split-box-lbl{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:0.5px;margin-bottom:5px;}
.split-box.good-side .split-box-lbl{color:var(--green);}
.split-box.bad-side .split-box-lbl{color:var(--red);}
.split-box-val{font-size:20px;font-weight:800;letter-spacing:-0.5px;}
.split-box.good-side .split-box-val{color:var(--green);}
.split-box.bad-side .split-box-val{color:var(--red);}
.split-box-sub{font-size:11px;margin-top:3px;color:var(--text2);}
.cost-banner{background:var(--purple-dim);border:1px solid var(--purple-mid);border-radius:10px;padding:11px 14px;font-size:12px;color:var(--purple);line-height:1.6;}
.cost-banner strong{font-weight:700;}
.otrade-empty{font-size:12px;color:var(--text3);text-align:center;padding:16px 0;}

/* JOURNAL */
.jctrl{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-bottom:14px;}
.ci{background:white;border:1.5px solid var(--border);border-radius:9px;padding:8px 13px;color:var(--text);font-family:var(--body);font-size:13px;outline:none;transition:border-color .15s,box-shadow .15s;}
.ci:focus{border-color:var(--purple);box-shadow:0 0 0 3px var(--purple-dim);}
.ci::placeholder{color:var(--text3);}
select.ci option{background:white;}
.ttw{background:white;border:1px solid var(--border);border-radius:16px;overflow:hidden;}
.tth{display:grid;grid-template-columns:110px 120px 140px 100px 100px 70px 120px 110px 70px;padding:11px 20px;background:var(--bg2);border-bottom:1px solid var(--border);}
.th{font-size:11px;font-weight:700;color:var(--text3);text-transform:uppercase;letter-spacing:0.5px;}
.ttb{max-height:540px;overflow-y:auto;}
.ttb::-webkit-scrollbar{width:4px;}
.ttb::-webkit-scrollbar-thumb{background:var(--border2);border-radius:4px;}
.tr{display:grid;grid-template-columns:110px 120px 140px 100px 100px 70px 120px 110px 70px;padding:12px 20px;border-bottom:1px solid var(--border);align-items:center;cursor:pointer;transition:background .1s;}
.tr:last-child{border:none;}
.tr:hover{background:var(--surf2);}
.tr.win{border-left:3px solid var(--green);}
.tr.loss{border-left:3px solid var(--red);}
.td{font-size:13px;color:var(--text);font-weight:500;}
.td.mo{font-family:var(--mono);font-size:12px;}
.td.sy{font-size:14px;font-weight:800;color:var(--text);}
.td.pos{color:var(--green);font-family:var(--mono);font-weight:700;}
.td.neg{color:var(--red);font-family:var(--mono);font-weight:700;}
.chip{display:inline-block;padding:3px 9px;border-radius:6px;font-size:11px;font-weight:600;background:var(--purple-dim);color:var(--purple);white-space:nowrap;}
.ra{display:flex;gap:5px;}
.rb{width:28px;height:28px;border-radius:8px;border:1.5px solid var(--border);background:none;color:var(--text3);cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:12px;transition:all .12s;}
.rb:hover{color:var(--text);border-color:var(--border2);background:var(--bg2);}
.rb.dl:hover{color:var(--red);border-color:var(--red);background:var(--red-d);}
.cbadge{background:var(--purple-dim);color:var(--purple);border-radius:20px;padding:2px 10px;font-size:11px;font-weight:700;margin-left:8px;vertical-align:middle;}
.empty{text-align:center;padding:60px 20px;}
.empty-i{font-size:28px;margin-bottom:10px;opacity:.4;}
.empty-t{font-size:13px;color:var(--text3);font-weight:500;}

/* QUALITY BADGE */
.qbadge{display:inline-flex;align-items:center;gap:4px;padding:3px 9px;border-radius:6px;font-size:11px;font-weight:700;white-space:nowrap;}
.qbadge.q4{background:var(--green-d);color:var(--green);}
.qbadge.q3{background:rgba(18,183,106,0.07);color:#0e9354;}
.qbadge.q2{background:rgba(247,144,9,0.10);color:var(--amber);}
.qbadge.q1{background:rgba(240,68,56,0.08);color:#c0392b;}
.qbadge.q0{background:var(--red-d);color:var(--red);}
.qbadge.qnone{background:var(--bg2);color:var(--text3);}

/* ANALYTICS */
.an-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-bottom:18px;}
.an-card{background:white;border:1px solid var(--border);border-radius:16px;padding:20px 22px;}
.an-card.full{grid-column:1/-1;}
.an-title{font-size:13px;font-weight:700;color:var(--text);margin-bottom:16px;}
.hm-nav{display:flex;align-items:center;gap:12px;margin-bottom:14px;}
.hm-nav-btn{background:white;border:1.5px solid var(--border);border-radius:8px;color:var(--text2);padding:6px 14px;font-family:var(--body);font-size:12px;font-weight:600;cursor:pointer;transition:all .15s;}
.hm-nav-btn:hover{border-color:var(--purple);color:var(--purple);}
.hm-month-label{font-size:15px;font-weight:800;color:var(--text);flex:1;text-align:center;letter-spacing:-0.3px;}
.hm-dow{display:grid;grid-template-columns:repeat(7,1fr);gap:4px;margin-bottom:4px;}
.hm-dow-lbl{font-size:10px;font-weight:700;color:var(--text3);text-align:center;padding:4px 0;letter-spacing:0.5px;}
.hm-cal{display:grid;grid-template-columns:repeat(7,1fr);gap:4px;}
.hm-day{border-radius:8px;aspect-ratio:1;display:flex;flex-direction:column;align-items:center;justify-content:center;transition:transform .15s;position:relative;}
.hm-day:hover{transform:scale(1.08);z-index:2;}
.hm-day.empty{background:transparent;}
.hm-day.nodata{background:var(--bg2);border:1px solid var(--border);}
.hm-day.win-sm{background:rgba(18,183,106,.12);border:1px solid rgba(18,183,106,.22);}
.hm-day.win-md{background:rgba(18,183,106,.28);border:1px solid rgba(18,183,106,.42);}
.hm-day.win-lg{background:rgba(18,183,106,.50);border:1px solid rgba(18,183,106,.65);}
.hm-day.loss-sm{background:rgba(240,68,56,.10);border:1px solid rgba(240,68,56,.20);}
.hm-day.loss-md{background:rgba(240,68,56,.22);border:1px solid rgba(240,68,56,.35);}
.hm-day.loss-lg{background:rgba(240,68,56,.40);border:1px solid rgba(240,68,56,.55);}
.hm-day .dn{font-size:10px;color:var(--text2);font-weight:500;}
.hm-day .dp{font-size:9px;font-weight:700;margin-top:1px;}
.hm-day.win-sm .dp,.hm-day.win-md .dp,.hm-day.win-lg .dp{color:var(--green);}
.hm-day.loss-sm .dp,.hm-day.loss-md .dp,.hm-day.loss-lg .dp{color:var(--red);}
.hm-legend{display:flex;align-items:center;gap:12px;justify-content:center;margin-top:12px;}
.hm-leg-item{display:flex;align-items:center;gap:5px;font-size:11px;color:var(--text3);font-weight:500;}
.hm-leg-dot{width:10px;height:10px;border-radius:3px;}
.setup-bar-row{display:flex;align-items:center;gap:12px;margin-bottom:10px;}
.setup-bar-row:last-child{margin-bottom:0;}
.sbn{font-size:12px;font-weight:600;color:var(--text2);width:130px;flex-shrink:0;}
.sb-track{flex:1;background:var(--bg2);border-radius:6px;height:26px;overflow:hidden;}
.sb-fill{height:100%;border-radius:6px;display:flex;align-items:center;padding:0 10px;font-size:11px;font-weight:700;font-family:var(--mono);transition:width .6s ease;white-space:nowrap;}
.sb-fill.pos{background:var(--green-d);color:var(--green);}
.sb-fill.neg{background:var(--red-d);color:var(--red);}
.sb-meta{font-size:11px;color:var(--text3);width:80px;text-align:right;font-weight:500;}
.month-table{width:100%;border-collapse:collapse;}
.month-table th{font-size:11px;font-weight:700;color:var(--text3);text-transform:uppercase;letter-spacing:0.5px;padding:8px 12px;text-align:left;border-bottom:1px solid var(--border);}
.month-table td{font-size:12px;padding:10px 12px;border-bottom:1px solid var(--border);color:var(--text);font-weight:500;}
.month-table tr:last-child td{border:none;}
.month-table tr:hover td{background:var(--surf2);}
.month-table .pos{color:var(--green);font-weight:700;font-family:var(--mono);}
.month-table .neg{color:var(--red);font-weight:700;font-family:var(--mono);}
.month-table .sym-col{font-weight:700;}
.psych-wrap{margin-bottom:0;}
.psych-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-bottom:14px;}
.psych-card{background:var(--bg2);border:1px solid var(--border);border-radius:12px;padding:14px;text-align:center;}
.psych-num{font-size:26px;font-weight:800;letter-spacing:-0.5px;line-height:1;}
.psych-num.g{color:var(--green)}.psych-num.r{color:var(--red)}.psych-num.gold{color:var(--amber)}.psych-num.n{color:var(--purple)}
.psych-lbl{font-size:10px;font-weight:700;color:var(--text3);letter-spacing:0.5px;text-transform:uppercase;margin-top:5px;}
.insight-box{background:var(--purple-dim);border:1px solid var(--purple-mid);border-radius:10px;padding:13px 16px;font-size:12px;color:var(--text2);line-height:1.9;}
.insight-box strong{color:var(--purple);font-weight:700;}
.insight-box .insight-good{color:var(--green);font-weight:600;}
.insight-box .insight-bad{color:var(--red);font-weight:600;}

/* QUALITY CHECKLIST */
.quality-section{grid-column:1/-1;background:var(--bg2);border:1.5px solid var(--border);border-radius:14px;padding:18px 20px;margin-top:6px;}
.quality-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;}
.quality-title{font-size:13px;font-weight:700;color:var(--text);}
.quality-score-preview{font-size:18px;font-weight:800;color:var(--text3);transition:color .3s;}
.quality-score-preview.s4{color:var(--green)}.quality-score-preview.s3{color:#0e9354}.quality-score-preview.s2{color:var(--amber)}.quality-score-preview.s1{color:#e05a30}.quality-score-preview.s0{color:var(--red)}
.quality-checks{display:grid;grid-template-columns:1fr 1fr;gap:10px;}
.qcheck{display:flex;align-items:flex-start;gap:11px;background:white;border:1.5px solid var(--border);border-radius:10px;padding:12px 14px;cursor:pointer;transition:all .15s;user-select:none;}
.qcheck:hover{border-color:var(--border2);}
.qcheck.checked{border-color:var(--green);background:var(--green-d);}
.qcheck-box{width:20px;height:20px;border-radius:5px;border:2px solid var(--border2);flex-shrink:0;display:flex;align-items:center;justify-content:center;font-size:11px;transition:all .15s;margin-top:1px;color:white;}
.qcheck.checked .qcheck-box{background:var(--green);border-color:var(--green);}
.qcheck-label{font-size:13px;font-weight:600;color:var(--text);line-height:1.3;}
.qcheck-sub{font-size:11px;color:var(--text3);margin-top:2px;line-height:1.4;}

/* VERDICT */
.verdict{border-radius:12px;padding:14px 18px;margin-bottom:18px;display:flex;align-items:center;gap:14px;}
.verdict.good{background:var(--green-d);border:1px solid var(--green-b);}
.verdict.bad{background:var(--red-d);border:1px solid var(--red-b);}
.verdict.partial{background:rgba(247,144,9,0.08);border:1px solid rgba(247,144,9,0.2);}
.verdict.unscored{background:var(--bg2);border:1px solid var(--border);}
.verdict-icon{font-size:26px;flex-shrink:0;}
.verdict-body{flex:1;}
.verdict-title{font-size:16px;font-weight:800;margin-bottom:3px;letter-spacing:-0.2px;}
.verdict.good .verdict-title{color:var(--green)}.verdict.bad .verdict-title{color:var(--red)}.verdict.partial .verdict-title{color:var(--amber)}.verdict.unscored .verdict-title{color:var(--text2)}
.verdict-sub{font-size:12px;color:var(--text2);line-height:1.5;}
.verdict-score{font-size:30px;font-weight:900;letter-spacing:-1px;flex-shrink:0;}
.verdict.good .verdict-score{color:var(--green)}.verdict.bad .verdict-score{color:var(--red)}.verdict.partial .verdict-score{color:var(--amber)}.verdict.unscored .verdict-score{color:var(--text3)}
.verdict-checks{display:flex;gap:6px;flex-wrap:wrap;margin-top:7px;}
.vc{padding:3px 9px;border-radius:6px;font-size:11px;font-weight:600;}
.vc.pass{background:var(--green-d);color:var(--green);}
.vc.fail{background:var(--red-d);color:var(--red);}

/* CALCULATOR */
.cg{display:grid;grid-template-columns:1fr 1fr;gap:16px;}
.cp{background:white;border:1px solid var(--border);border-radius:16px;padding:24px;}
.ct{font-size:17px;font-weight:800;color:var(--text);margin-bottom:3px;letter-spacing:-0.3px;}
.cs{font-size:12px;color:var(--text3);font-weight:500;margin-bottom:20px;}
.cf{margin-bottom:13px;}
.cf label{display:block;font-size:12px;font-weight:600;color:var(--text2);margin-bottom:6px;}
.cf input{width:100%;background:var(--bg2);border:1.5px solid var(--border);border-radius:9px;padding:10px 13px;color:var(--text);font-family:var(--body);font-size:14px;outline:none;transition:border-color .15s,box-shadow .15s;}
.cf input:focus{border-color:var(--purple);box-shadow:0 0 0 3px var(--purple-dim);background:white;}
.crun{width:100%;background:linear-gradient(135deg,var(--purple),var(--purple2));border:none;border-radius:10px;padding:12px;color:white;font-family:var(--body);font-size:14px;font-weight:700;cursor:pointer;transition:opacity .2s,transform .15s;margin-top:4px;}
.crun:hover{opacity:.9;transform:translateY(-1px);}
.cres{margin-top:16px;background:var(--purple-dim);border:1px solid var(--purple-mid);border-radius:12px;padding:18px;text-align:center;display:none;animation:fadeUp .2s ease;}
.crl{font-size:11px;font-weight:700;color:var(--purple);text-transform:uppercase;letter-spacing:0.5px;margin-bottom:6px;}
.crv{font-size:34px;font-weight:900;letter-spacing:-1px;color:var(--purple);line-height:1;}
.crs{font-size:12px;color:var(--text2);margin-top:8px;line-height:1.6;font-weight:500;}

/* SETTINGS */
.spg{display:grid;grid-template-columns:1fr 1fr;gap:14px;max-width:900px;}
.sp{background:white;border:1px solid var(--border);border-radius:16px;padding:22px;}
.sp.full{grid-column:1/-1;}
.spt{font-size:16px;font-weight:800;color:var(--text);margin-bottom:4px;letter-spacing:-0.2px;}
.sps{font-size:12px;color:var(--text3);margin-bottom:16px;line-height:1.7;font-weight:500;}
.spf{margin-bottom:12px;}
.spf label{display:block;font-size:12px;font-weight:600;color:var(--text2);margin-bottom:6px;}
.spf input{width:100%;background:var(--bg2);border:1.5px solid var(--border);border-radius:9px;padding:9px 13px;color:var(--text);font-family:var(--body);font-size:13px;outline:none;transition:border-color .15s;}
.spf input:focus{border-color:var(--purple);}
.spb{background:linear-gradient(135deg,var(--purple),var(--purple2));border:none;border-radius:9px;color:white;padding:10px 20px;font-family:var(--body);font-size:14px;font-weight:700;cursor:pointer;transition:opacity .15s;}
.spb:hover{opacity:.9;}
.spb.dng{background:var(--red);}
.gst{display:flex;align-items:center;gap:7px;margin-top:12px;font-size:12px;color:var(--text3);font-weight:500;}
.gdot{width:7px;height:7px;border-radius:50%;background:var(--red);}
.gdot.on{background:var(--green);}
.ibnr{background:var(--purple-dim);border:1px solid var(--purple-mid);border-radius:12px;padding:12px 16px;font-size:12px;color:var(--purple);line-height:1.8;margin-bottom:18px;max-width:900px;}
.ibnr code{background:white;border-radius:4px;padding:1px 6px;font-family:var(--mono);font-size:11px;}

/* MODAL */
.ov{position:fixed;inset:0;background:rgba(16,24,40,0.4);backdrop-filter:blur(6px);z-index:500;display:none;align-items:center;justify-content:center;padding:20px;}
.ov.open{display:flex;}
.modal{background:white;border:1px solid var(--border);border-radius:20px;width:100%;max-width:700px;max-height:92vh;overflow-y:auto;padding:30px;animation:fadeUp .2s ease;box-shadow:0 20px 60px rgba(0,0,0,0.12);}
.modal::-webkit-scrollbar{width:4px;}
.modal::-webkit-scrollbar-thumb{background:var(--border2);border-radius:4px;}
.mh{display:flex;justify-content:space-between;align-items:center;margin-bottom:22px;}
.mt{font-size:20px;font-weight:800;color:var(--text);letter-spacing:-0.3px;}
.mc{width:32px;height:32px;border-radius:8px;border:1.5px solid var(--border);background:none;color:var(--text3);cursor:pointer;font-size:13px;display:flex;align-items:center;justify-content:center;transition:all .12s;}
.mc:hover{color:var(--red);border-color:var(--red);background:var(--red-d);}
.fg2{display:grid;grid-template-columns:1fr 1fr;gap:13px;}
.fg{display:flex;flex-direction:column;gap:6px;}
.fg.full{grid-column:1/-1;}
.fg label{font-size:12px;font-weight:600;color:var(--text2);}
.fg input,.fg select,.fg textarea{background:var(--bg2);border:1.5px solid var(--border);border-radius:9px;padding:9px 13px;color:var(--text);font-family:var(--body);font-size:14px;outline:none;transition:border-color .15s,box-shadow .15s;width:100%;}
.fg input:focus,.fg select:focus,.fg textarea:focus{border-color:var(--purple);box-shadow:0 0 0 3px var(--purple-dim);background:white;}
.fg select option{background:white;}
.fg textarea{resize:vertical;min-height:80px;line-height:1.6;}
.emo-g{display:flex;flex-wrap:wrap;gap:7px;}
.eb{padding:6px 13px;border-radius:8px;border:1.5px solid var(--border);background:white;color:var(--text2);font-family:var(--body);font-size:13px;font-weight:500;cursor:pointer;transition:all .12s;}
.eb:hover{border-color:var(--border2);color:var(--text);background:var(--bg2);}
.eb.on{background:var(--purple-dim);border-color:var(--purple-mid);color:var(--purple);font-weight:600;}
.iz{border:2px dashed var(--border2);border-radius:10px;padding:20px;text-align:center;cursor:pointer;transition:border-color .2s;position:relative;}
.iz:hover{border-color:var(--purple);}
.iz input{position:absolute;inset:0;opacity:0;cursor:pointer;}
.iz-t{font-size:12px;color:var(--text3);font-weight:500;}
.ip{max-width:100%;max-height:180px;border-radius:8px;margin-top:10px;object-fit:contain;display:none;}
.fa{display:flex;justify-content:flex-end;gap:10px;margin-top:20px;}
.bcn{background:none;border:1.5px solid var(--border);border-radius:9px;color:var(--text2);padding:9px 20px;font-family:var(--body);font-size:14px;font-weight:600;cursor:pointer;transition:all .12s;}
.bcn:hover{color:var(--text);border-color:var(--border2);background:var(--bg2);}
.bsv{background:linear-gradient(135deg,var(--purple),var(--purple2));border:none;border-radius:9px;color:white;padding:9px 26px;font-family:var(--body);font-size:14px;font-weight:700;cursor:pointer;transition:opacity .15s,transform .15s,box-shadow .15s;}
.bsv:hover{opacity:.9;transform:translateY(-1px);box-shadow:0 6px 20px rgba(124,92,252,0.3);}
.dkvg{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:18px;}
.dkv{background:var(--bg2);border:1px solid var(--border);border-radius:10px;padding:12px 14px;}
.dkl{font-size:11px;font-weight:700;color:var(--text3);text-transform:uppercase;letter-spacing:0.5px;margin-bottom:5px;}
.dkv2{font-size:14px;font-weight:700;color:var(--text);font-family:var(--mono);}
.dkv2.pos{color:var(--green)}.dkv2.neg{color:var(--red)}
.ds{margin-bottom:14px;}
.dsl{font-size:12px;font-weight:700;color:var(--text2);margin-bottom:5px;text-transform:uppercase;letter-spacing:0.5px;}
.dst{font-size:14px;color:var(--text2);line-height:1.7;}

/* PDF BTN */
.pdf-btn{background:white;border:1.5px solid var(--border);border-radius:9px;color:var(--text2);padding:8px 16px;font-family:var(--body);font-size:13px;font-weight:600;cursor:pointer;transition:all .15s;display:flex;align-items:center;gap:7px;}
.pdf-btn:hover{border-color:var(--purple);color:var(--purple);background:var(--purple-dim);}

/* TOAST */
.toast{position:fixed;bottom:24px;right:24px;background:var(--text);color:white;border-radius:10px;padding:12px 18px;font-size:13px;font-weight:600;z-index:9999;display:none;animation:fadeUp .2s ease;max-width:280px;box-shadow:0 8px 24px rgba(0,0,0,0.2);}

*{scrollbar-width:thin;scrollbar-color:var(--border2) transparent;}

/* ── NEW FEATURES CSS ── */

/* Greeting */
.greeting{font-size:22px;font-weight:800;color:var(--text);letter-spacing:-0.3px;}

/* Dashboard 3-col row */
.dash-row3{display:grid;grid-template-columns:1fr 1.6fr 1fr;gap:14px;margin-bottom:18px;}

/* TradeLog Score badge */
.tls-badge{font-size:28px;font-weight:900;letter-spacing:-1px;color:var(--purple);}
.tls-sub{font-size:11px;color:var(--text3);text-align:center;margin-top:6px;font-weight:500;}

/* Recent trades mini table */
.recent-tbl{font-size:13px;}
.recent-hdr{display:grid;grid-template-columns:80px 100px 1fr 100px 100px;padding:8px 12px;background:var(--bg2);border-radius:8px;margin-bottom:4px;}
.recent-hdr span{font-size:11px;font-weight:700;color:var(--text3);text-transform:uppercase;letter-spacing:0.5px;}
.recent-row{display:grid;grid-template-columns:80px 100px 1fr 100px 100px;padding:10px 12px;border-bottom:1px solid var(--border);align-items:center;cursor:pointer;transition:background .1s;border-radius:4px;}
.recent-row:hover{background:var(--surf2);}
.recent-row:last-child{border:none;}
.recent-sym{font-weight:800;font-size:14px;}
.recent-date{font-family:var(--mono);font-size:11px;color:var(--text3);}
.link-btn{background:none;border:none;color:var(--purple);font-family:var(--body);font-size:12px;font-weight:700;cursor:pointer;padding:0;}
.link-btn:hover{text-decoration:underline;}

/* Daily Journal */
.dj-layout{display:grid;grid-template-columns:320px 1fr;gap:16px;align-items:start;}
.dj-left{display:flex;flex-direction:column;gap:12px;}
.dj-date-row{display:flex;align-items:center;gap:10px;background:white;border:1px solid var(--border);border-radius:12px;padding:12px 14px;}
.dj-date-input{flex:1;border:none;background:none;font-family:var(--body);font-size:14px;font-weight:600;color:var(--text);outline:none;text-align:center;}
.dj-stat-row{display:grid;grid-template-columns:1fr 1fr;gap:8px;}
.dj-stat{background:white;border:1px solid var(--border);border-radius:10px;padding:12px 14px;text-align:center;}
.dj-stat-val{font-size:20px;font-weight:800;letter-spacing:-0.5px;}
.dj-stat-val.pos{color:var(--green)}.dj-stat-val.neg{color:var(--red)}.dj-stat-val.neu{color:var(--purple)}
.dj-stat-lbl{font-size:10px;color:var(--text3);font-weight:700;text-transform:uppercase;margin-top:3px;letter-spacing:0.5px;}
.dj-trades-list{background:white;border:1px solid var(--border);border-radius:12px;padding:14px;max-height:340px;overflow-y:auto;}
.dj-trade-item{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid var(--border);}
.dj-trade-item:last-child{border:none;}
.dj-right{background:white;border:1px solid var(--border);border-radius:16px;padding:22px;}
.dj-editor-label{font-size:13px;font-weight:700;color:var(--text);margin-bottom:12px;}
.dj-mood-row{display:flex;align-items:center;gap:7px;flex-wrap:wrap;margin-bottom:14px;}
.dj-textarea{width:100%;min-height:220px;background:var(--bg2);border:1.5px solid var(--border);border-radius:10px;padding:14px;font-family:var(--body);font-size:14px;color:var(--text);resize:vertical;outline:none;line-height:1.7;transition:border-color .15s;}
.dj-textarea:focus{border-color:var(--purple);box-shadow:0 0 0 3px var(--purple-dim);background:white;}
.dj-past-notes{margin-top:16px;}
.dj-note-card{background:var(--bg2);border:1px solid var(--border);border-radius:10px;padding:14px;margin-bottom:10px;}
.dj-note-date{font-size:11px;font-weight:700;color:var(--purple);margin-bottom:5px;text-transform:uppercase;letter-spacing:0.5px;}
.dj-note-mood{display:inline-block;font-size:11px;background:var(--purple-dim);color:var(--purple);border-radius:20px;padding:2px 8px;margin-bottom:6px;font-weight:600;}
.dj-note-text{font-size:13px;color:var(--text2);line-height:1.7;}

/* Playbook */
.pb-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:16px;}
.pb-card{background:white;border:1px solid var(--border);border-radius:16px;padding:22px;position:relative;transition:box-shadow .2s,transform .2s;}
.pb-card:hover{box-shadow:0 6px 24px rgba(0,0,0,0.07);transform:translateY(-2px);}
.pb-card-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px;}
.pb-card-name{font-size:16px;font-weight:800;color:var(--text);letter-spacing:-0.2px;}
.pb-market-badge{font-size:10px;font-weight:700;background:var(--purple-dim);color:var(--purple);border-radius:6px;padding:3px 9px;white-space:nowrap;}
.pb-section{margin-bottom:10px;}
.pb-section-lbl{font-size:10px;font-weight:700;color:var(--text3);text-transform:uppercase;letter-spacing:0.5px;margin-bottom:4px;}
.pb-section-val{font-size:13px;color:var(--text2);line-height:1.6;}
.pb-chart-thumb{width:100%;border-radius:8px;margin-top:10px;border:1px solid var(--border);max-height:120px;object-fit:cover;}
.pb-actions{display:flex;gap:6px;margin-top:14px;padding-top:12px;border-top:1px solid var(--border);}
.pb-empty{grid-column:1/-1;text-align:center;padding:80px 20px;}
.pb-stats-strip{display:flex;gap:12px;margin-top:10px;flex-wrap:wrap;}
.pb-stat{font-size:11px;font-weight:600;color:var(--text3);}
.pb-stat span{color:var(--purple);}

/* Reports */
.rpt-filter{background:white;border:1px solid var(--border);border-radius:14px;padding:18px 20px;margin-bottom:18px;}
.rpt-stat-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:12px;margin-bottom:16px;}
.rpt-card{background:white;border:1px solid var(--border);border-radius:12px;padding:16px 18px;}
.rpt-card-val{font-size:22px;font-weight:800;letter-spacing:-0.5px;color:var(--text);margin-bottom:3px;}
.rpt-card-val.pos{color:var(--green)}.rpt-card-val.neg{color:var(--red)}.rpt-card-val.purple{color:var(--purple)}
.rpt-card-lbl{font-size:11px;font-weight:600;color:var(--text3);}
.rpt-empty{text-align:center;padding:30px;color:var(--text3);font-size:13px;}
